var ri=Object.defineProperty;var rr=t=>{throw TypeError(t)};var ni=(t,e,r)=>e in t?ri(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var O=(t,e,r)=>ni(t,typeof e!="symbol"?e+"":e,r),nr=(t,e,r)=>e.has(t)||rr("Cannot "+r);var y=(t,e,r)=>(nr(t,e,"read from private field"),r?r.call(t):e.get(t)),j=(t,e,r)=>e.has(t)?rr("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),A=(t,e,r,n)=>(nr(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);import{c as ir,f as ii,t as Ot,b as ce,d as dt}from"./CYEf1Ylp.js";import{i as oi}from"./BKaudtaW.js";import{b as si,h as or,a as sr,j as ai,e as ar,C as ui,ar as ci,aq as li,s as fi,z as hi,w as di,o as ur,M as pi,aG as vi,aH as yi,ay as mi,aI as gi,aJ as bi,B as wi,T as De,am as cr,an as lr,ao as Ei,S as Ci,af as Si,aK as Ne,aL as _i,ai as Oi,X as ze,m as He,ac as Be,aj as N,g as V,ak as z,al as ge,ag as pt,ah as jt,d as xi}from"./CfeyyWgh.js";import{w as Ii,a as Ai,s as fr}from"./CJ7GsXyi.js";import{i as Ve}from"./CB-ywmT0.js";import{e as hr,i as dr}from"./DBeyxx2k.js";import{s as ji}from"./CS4I8XOw.js";import{p as Ti}from"./BZde33tx.js";import{_ as Br}from"./Dp1pzeXC.js";function pr(t,e,r,n,i){var o=t,s="",a;si(()=>{if(s===(s=e()??"")){or&&sr();return}a!==void 0&&(di(a),a=void 0),s!==""&&(a=ai(()=>{if(or){ar.data;for(var c=sr(),u=c;c!==null&&(c.nodeType!==8||c.data!=="");)u=c,c=ui(c);if(c===null)throw ci(),li;ir(ar,u),o=fi(c);return}var d=s+"",g=ii(d);ir(hi(g),g.lastChild),o.before(g)}))})}const Ri=()=>performance.now(),ne={tick:t=>requestAnimationFrame(t),now:()=>Ri(),tasks:new Set};function Vr(){const t=ne.now();ne.tasks.forEach(e=>{e.c(t)||(ne.tasks.delete(e),e.f())}),ne.tasks.size!==0&&ne.tick(Vr)}function $i(t){let e;return ne.tasks.size===0&&ne.tick(Vr),{promise:new Promise(r=>{ne.tasks.add(e={c:t,f:r})}),abort(){ne.tasks.delete(e)}}}function vr(t,e){Ii(()=>{t.dispatchEvent(new CustomEvent(e))})}function Pi(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function yr(t){const e={},r=t.split(";");for(const n of r){const[i,o]=n.split(":");if(!i||o===void 0)break;const s=Pi(i.trim());e[s]=o.trim()}return e}const Fi=t=>t;function qi(t,e,r,n){var i=(t&gi)!==0,o="in",s,a=e.inert,c=e.style.overflow,u,d;function g(){var E=Ei,_=ur;cr(null),lr(null);try{return s??(s=r()(e,(n==null?void 0:n())??{},{direction:o}))}finally{cr(E),lr(_)}}var w={is_global:i,in(){e.inert=a,u==null||u.abort(),vr(e,"introstart"),u=Wr(e,g(),d,1,()=>{vr(e,"introend"),u==null||u.abort(),u=s=void 0,e.style.overflow=c})},out(E){{E==null||E(),s=void 0;return}},stop:()=>{u==null||u.abort()}},v=ur;if((v.transitions??(v.transitions=[])).push(w),Ai){var b=i;if(!b){for(var m=v.parent;m&&(m.f&pi)!==0;)for(;(m=m.parent)&&(m.f&vi)===0;);b=!m||(m.f&yi)!==0}b&&mi(()=>{Ci(()=>w.in())})}}function Wr(t,e,r,n,i){if(bi(e)){var o,s=!1;return wi(()=>{if(!s){var m=e({direction:"in"});o=Wr(t,m,r,n,i)}}),{abort:()=>{s=!0,o==null||o.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(!(e!=null&&e.duration))return i(),{abort:De,deactivate:De,reset:De,t:()=>n};const{delay:a=0,css:c,tick:u,easing:d=Fi}=e;var g=[];if(u&&u(0,1),c){var w=yr(c(0,1));g.push(w,w)}var v=()=>1-n,b=t.animate(g,{duration:a});return b.onfinish=()=>{var m=1-n,E=n-m,_=e.duration*Math.abs(E),S=[];if(_>0){var x=!1;if(c)for(var R=Math.ceil(_/16.666666666666668),P=0;P<=R;P+=1){var M=m+E*d(P/R),ae=yr(c(M,1-M));S.push(ae),x||(x=ae.overflow==="hidden")}x&&(t.style.overflow="hidden"),v=()=>{var J=b.currentTime;return m+E*d(J/_)},u&&$i(()=>{if(b.playState!=="running")return!1;var J=v();return u(J,1-J),!0})}b=t.animate(S,{duration:_,fill:"forwards"}),b.onfinish=()=>{v=()=>n,u==null||u(n,1-n),i()}},{abort:()=>{b&&(b.cancel(),b.effect=null,b.onfinish=De)},deactivate:()=>{i=De},reset:()=>{},t:()=>v()}}function mr(t){if(!t)return"";try{return t.map(e=>{const{style:r="normal",children:n=[],markDefs:i=[]}=e,o=n.map(s=>{let a=s.text;return s.marks&&s.marks.length>0&&s.marks.forEach(c=>{const u=i.find(d=>d._key===c);if(u&&u._type==="link")a=`<a href="${u.href}" target="_blank" rel="noopener noreferrer">${a}</a>`;else switch(c){case"strong":a=`<strong>${a}</strong>`;break;case"em":a=`<em>${a}</em>`;break}}),a}).join("");switch(r){case"h1":return`<h1>${o}</h1>`;case"h2":return`<h2>${o}</h2>`;case"h3":return`<h3>${o}</h3>`;case"h4":return`<h4>${o}</h4>`;default:return`<p>${o}</p>`}}).join("")}catch(e){return console.error("Error rendering portable text:",e),""}}const ki=t=>t;function Mi(t,{delay:e=0,duration:r=400,easing:n=ki}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:n,css:o=>`opacity: ${o*i}`}}const Gr=!(typeof navigator>"u")&&navigator.product==="ReactNative",Jr={timeout:Gr?6e4:12e4},Ui=function(t){const e={...Jr,...typeof t=="string"?{url:t}:t};if(e.timeout=Yr(e.timeout),e.query){const{url:r,searchParams:n}=function(i){const o=i.indexOf("?");if(o===-1)return{url:i,searchParams:new URLSearchParams};const s=i.slice(0,o),a=i.slice(o+1);if(!Gr)return{url:s,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const c=new URLSearchParams;for(const u of a.split("&")){const[d,g]=u.split("=");d&&c.append(gr(d),gr(g||""))}return{url:s,searchParams:c}}(e.url);for(const[i,o]of Object.entries(e.query)){if(o!==void 0)if(Array.isArray(o))for(const a of o)n.append(i,a);else n.append(i,o);const s=n.toString();s&&(e.url=`${r}?${s}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function gr(t){return decodeURIComponent(t.replace(/\+/g," "))}function Yr(t){if(t===!1||t===0)return!1;if(t.connect||t.socket)return t;const e=Number(t);return isNaN(e)?Yr(Jr.timeout):{connect:e,socket:e}}const Li=/^https?:\/\//i,Di=function(t){if(!Li.test(t.url))throw new Error(`"${t.url}" is not a valid URL`)};function Qr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const Ni=["request","response","progress","error","abort"],br=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function Xr(t,e){const r=[],n=br.reduce((o,s)=>(o[s]=o[s]||[],o),{processOptions:[Ui],validateOptions:[Di]});function i(o){const s=Ni.reduce((v,b)=>(v[b]=function(){const m=Object.create(null);let E=0;return{publish:function(_){for(const S in m)m[S](_)},subscribe:function(_){const S=E++;return m[S]=_,function(){delete m[S]}}}}(),v),{}),a=(v=>function(b,m,...E){const _=b==="onError";let S=m;for(let x=0;x<v[b].length&&(S=(0,v[b][x])(S,...E),!_||S);x++);return S})(n),c=a("processOptions",o);a("validateOptions",c);const u={options:c,channels:s,applyMiddleware:a};let d;const g=s.request.subscribe(v=>{d=e(v,(b,m)=>((E,_,S)=>{let x=E,R=_;if(!x)try{R=a("onResponse",_,S)}catch(P){R=null,x=P}x=x&&a("onError",x,S),x?s.error.publish(x):R&&s.response.publish(R)})(b,m,v))});s.abort.subscribe(()=>{g(),d&&d.abort()});const w=a("onReturn",s,u);return w===s&&s.request.publish(u),w}return i.use=function(o){if(!o)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof o=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(o.onReturn&&n.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return br.forEach(s=>{o[s]&&n[s].push(o[s])}),r.push(o),i},i.clone=()=>Xr(r,e),t.forEach(i.use),i}var wr,Er,zi=Qr(function(){if(Er)return wr;Er=1;var t=function(e){return e.replace(/^\s+|\s+$/g,"")};return wr=function(e){if(!e)return{};for(var r={},n=t(e).split(`
`),i=0;i<n.length;i++){var o=n[i],s=o.indexOf(":"),a=t(o.slice(0,s)).toLowerCase(),c=t(o.slice(s+1));typeof r[a]>"u"?r[a]=c:(u=r[a],Object.prototype.toString.call(u)==="[object Array]"?r[a].push(c):r[a]=[r[a],c])}var u;return r}}()),Qe,Xe,Ae,Ke,Z,Ze,et,Hr;let Ft=(Hr=class{constructor(){O(this,"onabort");O(this,"onerror");O(this,"onreadystatechange");O(this,"ontimeout");O(this,"readyState",0);O(this,"response");O(this,"responseText","");O(this,"responseType","");O(this,"status");O(this,"statusText");O(this,"withCredentials");j(this,Qe);j(this,Xe);j(this,Ae);j(this,Ke,{});j(this,Z);j(this,Ze,{});j(this,et)}open(e,r,n){var i;A(this,Qe,e),A(this,Xe,r),A(this,Ae,""),this.readyState=1,(i=this.onreadystatechange)==null||i.call(this),A(this,Z,void 0)}abort(){y(this,Z)&&y(this,Z).abort()}getAllResponseHeaders(){return y(this,Ae)}setRequestHeader(e,r){y(this,Ke)[e]=r}setInit(e,r=!0){A(this,Ze,e),A(this,et,r)}send(e){const r=this.responseType!=="arraybuffer",n={...y(this,Ze),method:y(this,Qe),headers:y(this,Ke),body:e};typeof AbortController=="function"&&y(this,et)&&(A(this,Z,new AbortController),typeof EventTarget<"u"&&y(this,Z).signal instanceof EventTarget&&(n.signal=y(this,Z).signal)),typeof document<"u"&&(n.credentials=this.withCredentials?"include":"omit"),fetch(y(this,Xe),n).then(i=>{var o;return i.headers.forEach((s,a)=>{A(this,Ae,y(this,Ae)+`${a}: ${s}\r
`)}),this.status=i.status,this.statusText=i.statusText,this.readyState=3,(o=this.onreadystatechange)==null||o.call(this),r?i.text():i.arrayBuffer()}).then(i=>{var o;typeof i=="string"?this.responseText=i:this.response=i,this.readyState=4,(o=this.onreadystatechange)==null||o.call(this)}).catch(i=>{var o,s;i.name!=="AbortError"?(o=this.onerror)==null||o.call(this,i):(s=this.onabort)==null||s.call(this)})}},Qe=new WeakMap,Xe=new WeakMap,Ae=new WeakMap,Ke=new WeakMap,Z=new WeakMap,Ze=new WeakMap,et=new WeakMap,Hr);const qt=typeof XMLHttpRequest=="function"?"xhr":"fetch",Hi=qt==="xhr"?XMLHttpRequest:Ft,Bi=(t,e)=>{const r=t.options,n=t.applyMiddleware("finalizeOptions",r),i={},o=t.applyMiddleware("interceptRequest",void 0,{adapter:qt,context:t});if(o){const m=setTimeout(e,0,null,o);return{abort:()=>clearTimeout(m)}}let s=new Hi;s instanceof Ft&&typeof n.fetch=="object"&&s.setInit(n.fetch,n.useAbortSignal??!0);const a=n.headers,c=n.timeout;let u=!1,d=!1,g=!1;if(s.onerror=m=>{b(s instanceof Ft?m instanceof Error?m:new Error(`Request error while attempting to reach is ${n.url}`,{cause:m}):new Error(`Request error while attempting to reach is ${n.url}${m.lengthComputable?`(${m.loaded} of ${m.total} bytes transferred)`:""}`))},s.ontimeout=m=>{b(new Error(`Request timeout while attempting to reach ${n.url}${m.lengthComputable?`(${m.loaded} of ${m.total} bytes transferred)`:""}`))},s.onabort=()=>{v(!0),u=!0},s.onreadystatechange=()=>{c&&(v(),i.socket=setTimeout(()=>w("ESOCKETTIMEDOUT"),c.socket)),!u&&s.readyState===4&&s.status!==0&&function(){if(!(u||d||g)){if(s.status===0)return void b(new Error("Unknown XHR error"));v(),d=!0,e(null,{body:s.response||(s.responseType===""||s.responseType==="text"?s.responseText:""),url:n.url,method:n.method,headers:zi(s.getAllResponseHeaders()),statusCode:s.status,statusMessage:s.statusText})}}()},s.open(n.method,n.url,!0),s.withCredentials=!!n.withCredentials,a&&s.setRequestHeader)for(const m in a)a.hasOwnProperty(m)&&s.setRequestHeader(m,a[m]);return n.rawBody&&(s.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:n,adapter:qt,request:s,context:t}),s.send(n.body||null),c&&(i.connect=setTimeout(()=>w("ETIMEDOUT"),c.connect)),{abort:function(){u=!0,s&&s.abort()}};function w(m){g=!0,s.abort();const E=new Error(m==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${n.url}`:`Connection timed out on request to ${n.url}`);E.code=m,t.channels.error.publish(E)}function v(m){(m||u||s.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function b(m){if(d)return;v(!0),d=!0,s=null;const E=m||new Error(`Network error while attempting to reach ${n.url}`);E.isNetworkError=!0,E.request=n,e(E)}},Vi=(t=[],e=Bi)=>Xr(t,e);var Wi={},Cr,Sr,_r,Or,xr,Tt={exports:{}};xr||(xr=1,function(t,e){e.formatArgs=function(n){if(n[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+n[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;n.splice(1,0,i,"color: inherit");let o=0,s=0;n[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(o++,a==="%c"&&(s=o))}),n.splice(s,0,i)},e.save=function(n){try{n?e.storage.setItem("debug",n):e.storage.removeItem("debug")}catch{}},e.load=function(){let n;try{n=e.storage.getItem("debug")}catch{}return!n&&typeof process<"u"&&"env"in process&&(n=Wi.DEBUG),n},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let n;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(n=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(n[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let n=!1;return()=>{n||(n=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=(Or?_r:(Or=1,_r=function(n){function i(a){let c,u,d,g=null;function w(...v){if(!w.enabled)return;const b=w,m=Number(new Date),E=m-(c||m);b.diff=E,b.prev=c,b.curr=m,c=m,v[0]=i.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let _=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(S,x)=>{if(S==="%%")return"%";_++;const R=i.formatters[x];if(typeof R=="function"){const P=v[_];S=R.call(b,P),v.splice(_,1),_--}return S}),i.formatArgs.call(b,v),(b.log||i.log).apply(b,v)}return w.namespace=a,w.useColors=i.useColors(),w.color=i.selectColor(a),w.extend=o,w.destroy=i.destroy,Object.defineProperty(w,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(u!==i.namespaces&&(u=i.namespaces,d=i.enabled(a)),d),set:v=>{g=v}}),typeof i.init=="function"&&i.init(w),w}function o(a,c){const u=i(this.namespace+(typeof c>"u"?":":c)+a);return u.log=this.log,u}function s(a,c){let u=0,d=0,g=-1,w=0;for(;u<a.length;)if(d<c.length&&(c[d]===a[u]||c[d]==="*"))c[d]==="*"?(g=d,w=u,d++):(u++,d++);else{if(g===-1)return!1;d=g+1,w++,u=w}for(;d<c.length&&c[d]==="*";)d++;return d===c.length}return i.debug=i,i.default=i,i.coerce=function(a){return a instanceof Error?a.stack||a.message:a},i.disable=function(){const a=[...i.names,...i.skips.map(c=>"-"+c)].join(",");return i.enable(""),a},i.enable=function(a){i.save(a),i.namespaces=a,i.names=[],i.skips=[];const c=(typeof a=="string"?a:"").trim().replace(" ",",").split(",").filter(Boolean);for(const u of c)u[0]==="-"?i.skips.push(u.slice(1)):i.names.push(u)},i.enabled=function(a){for(const c of i.skips)if(s(a,c))return!1;for(const c of i.names)if(s(a,c))return!0;return!1},i.humanize=function(){if(Sr)return Cr;Sr=1;var a=1e3,c=60*a,u=60*c,d=24*u,g=7*d;function w(v,b,m,E){var _=b>=1.5*m;return Math.round(v/m)+" "+E+(_?"s":"")}return Cr=function(v,b){b=b||{};var m,E,_=typeof v;if(_==="string"&&v.length>0)return function(S){if(!((S=String(S)).length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(S);if(x){var R=parseFloat(x[1]);switch((x[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*R;case"weeks":case"week":case"w":return R*g;case"days":case"day":case"d":return R*d;case"hours":case"hour":case"hrs":case"hr":case"h":return R*u;case"minutes":case"minute":case"mins":case"min":case"m":return R*c;case"seconds":case"second":case"secs":case"sec":case"s":return R*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}(v);if(_==="number"&&isFinite(v))return b.long?(m=v,(E=Math.abs(m))>=d?w(m,E,d,"day"):E>=u?w(m,E,u,"hour"):E>=c?w(m,E,c,"minute"):E>=a?w(m,E,a,"second"):m+" ms"):function(S){var x=Math.abs(S);return x>=d?Math.round(S/d)+"d":x>=u?Math.round(S/u)+"h":x>=c?Math.round(S/c)+"m":x>=a?Math.round(S/a)+"s":S+"ms"}(v);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(v))}}(),i.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(n).forEach(a=>{i[a]=n[a]}),i.names=[],i.skips=[],i.formatters={},i.selectColor=function(a){let c=0;for(let u=0;u<a.length;u++)c=(c<<5)-c+a.charCodeAt(u),c|=0;return i.colors[Math.abs(c)%i.colors.length]},i.enable(i.load()),i}))(e);const{formatters:r}=t.exports;r.j=function(n){try{return JSON.stringify(n)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}}}(Tt,Tt.exports)),Tt.exports;const Gi=typeof Buffer>"u"?()=>!1:t=>Buffer.isBuffer(t);function Ir(t){return Object.prototype.toString.call(t)==="[object Object]"}function Ji(t){if(Ir(t)===!1)return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(Ir(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)}const Yi=["boolean","string","number"];function Qi(){return{processOptions:t=>{const e=t.body;return!e||typeof e.pipe=="function"||Gi(e)||Yi.indexOf(typeof e)===-1&&!Array.isArray(e)&&!Ji(e)?t:Object.assign({},t,{body:JSON.stringify(t.body),headers:Object.assign({},t.headers,{"Content-Type":"application/json"})})}}}function Xi(t){return{onResponse:r=>{const n=r.headers["content-type"]||"",i=t&&t.force||n.indexOf("application/json")!==-1;return r.body&&n&&i?Object.assign({},r,{body:e(r.body)}):r},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(n){throw n.message=`Failed to parsed response body as JSON: ${n.message}`,n}}}let We={};typeof globalThis<"u"?We=globalThis:typeof window<"u"?We=window:typeof global<"u"?We=global:typeof self<"u"&&(We=self);var Ki=We;function Zi(t={}){const e=t.implementation||Ki.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,n)=>new e(i=>(r.error.subscribe(o=>i.error(o)),r.progress.subscribe(o=>i.next(Object.assign({type:"progress"},o))),r.response.subscribe(o=>{i.next(Object.assign({type:"response"},o)),i.complete()}),r.request.publish(n),()=>r.abort.publish()))}}function eo(){return{onRequest:t=>{if(t.adapter!=="xhr")return;const e=t.request,r=t.context;function n(i){return o=>{const s=o.lengthComputable?o.loaded/o.total*100:-1;r.channels.progress.publish({stage:i,percent:s,total:o.total,loaded:o.loaded,lengthComputable:o.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}}}var Kr=(t,e,r)=>(r.method==="GET"||r.method==="HEAD")&&(t.isNetworkError||!1);function to(t){return 100*Math.pow(2,t)+100*Math.random()}const Lt=(t={})=>(e=>{const r=e.maxRetries||5,n=e.retryDelay||to,i=e.shouldRetry;return{onError:(o,s)=>{const a=s.options,c=a.maxRetries||r,u=a.retryDelay||n,d=a.shouldRetry||i,g=a.attemptNumber||0;if((w=a.body)!==null&&typeof w=="object"&&typeof w.pipe=="function"||!d(o,g,a)||g>=c)return o;var w;const v=Object.assign({},s,{options:Object.assign({},a,{attemptNumber:g+1})});return setTimeout(()=>s.channels.request.publish(v),u(g)),null}}})({shouldRetry:Kr,...t});Lt.shouldRetry=Kr;var kt=function(t,e){return kt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},kt(t,e)};function se(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");kt(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function ro(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(d){try{u(n.next(d))}catch(g){s(g)}}function c(d){try{u(n.throw(d))}catch(g){s(g)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((n=n.apply(t,e||[])).next())})}function Zr(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){r.label=u[1];break}if(u[0]===6&&r.label<o[1]){r.label=o[1],o=u;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(u);break}o[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Pe(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ie(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return o}function oe(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function xe(t){return this instanceof xe?(this.v=t,this):new xe(t)}function no(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(b){return Promise.resolve(b).then(v,g)}}function a(v,b){n[v]&&(i[v]=function(m){return new Promise(function(E,_){o.push([v,m,E,_])>1||c(v,m)})},b&&(i[v]=b(i[v])))}function c(v,b){try{u(n[v](b))}catch(m){w(o[0][3],m)}}function u(v){v.value instanceof xe?Promise.resolve(v.value.v).then(d,g):w(o[0][2],v)}function d(v){c("next",v)}function g(v){c("throw",v)}function w(v,b){v(b),o.shift(),o.length&&c(o[0][0],o[0][1])}}function io(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Pe=="function"?Pe(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}function $(t){return typeof t=="function"}function Dt(t){var e=function(n){Error.call(n),n.stack=new Error().stack},r=t(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var Rt=Dt(function(t){return function(r){t(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function gt(t,e){if(t){var r=t.indexOf(e);0<=r&&t.splice(r,1)}}var ct=function(){function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var e,r,n,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Pe(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(m){e={error:m}}finally{try{c&&!c.done&&(r=a.return)&&r.call(a)}finally{if(e)throw e.error}}else s.remove(this);var d=this.initialTeardown;if($(d))try{d()}catch(m){o=m instanceof Rt?m.errors:[m]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var w=Pe(g),v=w.next();!v.done;v=w.next()){var b=v.value;try{Ar(b)}catch(m){o=o??[],m instanceof Rt?o=oe(oe([],ie(o)),ie(m.errors)):o.push(m)}}}catch(m){n={error:m}}finally{try{v&&!v.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}}if(o)throw new Rt(o)}},t.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Ar(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},t.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},t.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},t.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&gt(r,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&gt(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),en=ct.EMPTY;function tn(t){return t instanceof ct||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function Ar(t){$(t)?t():t.unsubscribe()}var oo={Promise:void 0},so={setTimeout:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setTimeout.apply(void 0,oe([t,e],ie(r)))},clearTimeout:function(t){return clearTimeout(t)},delegate:void 0};function rn(t){so.setTimeout(function(){throw t})}function jr(){}function yt(t){t()}var Nt=function(t){se(e,t);function e(r){var n=t.call(this)||this;return n.isStopped=!1,r?(n.destination=r,tn(r)&&r.add(n)):n.destination=co,n}return e.create=function(r,n,i){return new Ye(r,n,i)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(ct),ao=function(){function t(e){this.partialObserver=e}return t.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(n){vt(n)}},t.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(n){vt(n)}else vt(e)},t.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){vt(r)}},t}(),Ye=function(t){se(e,t);function e(r,n,i){var o=t.call(this)||this,s;return $(r)||!r?s={next:r??void 0,error:n??void 0,complete:i??void 0}:s=r,o.destination=new ao(s),o}return e}(Nt);function vt(t){rn(t)}function uo(t){throw t}var co={closed:!0,next:jr,error:uo,complete:jr},zt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function xt(t){return t}function lo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nn(t)}function nn(t){return t.length===0?xt:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var F=function(){function t(e){e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this,o=ho(e)?e:new Ye(e,r,n);return yt(function(){var s=i,a=s.operator,c=s.source;o.add(a?a.call(o,c):c?i._subscribe(o):i._trySubscribe(o))}),o},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},t.prototype.forEach=function(e,r){var n=this;return r=Tr(r),new r(function(i,o){var s=new Ye({next:function(a){try{e(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});n.subscribe(s)})},t.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},t.prototype[zt]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return nn(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=Tr(e),new e(function(n,i){var o;r.subscribe(function(s){return o=s},function(s){return i(s)},function(){return n(o)})})},t.create=function(e){return new t(e)},t}();function Tr(t){var e;return(e=t??oo.Promise)!==null&&e!==void 0?e:Promise}function fo(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function ho(t){return t&&t instanceof Nt||fo(t)&&tn(t)}function po(t){return $(t==null?void 0:t.lift)}function Q(t){return function(e){if(po(e))return e.lift(function(r){try{return t(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,r,n,i){return new vo(t,e,r,n,i)}var vo=function(t){se(e,t);function e(r,n,i,o,s,a){var c=t.call(this,r)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=n?function(u){try{n(u)}catch(d){r.error(d)}}:t.prototype._next,c._error=o?function(u){try{o(u)}catch(d){r.error(d)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=i?function(){try{i()}catch(u){r.error(u)}finally{this.unsubscribe()}}:t.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(Nt),yo=Dt(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ht=function(t){se(e,t);function e(){var r=t.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var n=new Rr(this,this);return n.operator=r,n},e.prototype._throwIfClosed=function(){if(this.closed)throw new yo},e.prototype.next=function(r){var n=this;yt(function(){var i,o;if(n._throwIfClosed(),!n.isStopped){n.currentObservers||(n.currentObservers=Array.from(n.observers));try{for(var s=Pe(n.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(r)}}catch(u){i={error:u}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}}})},e.prototype.error=function(r){var n=this;yt(function(){if(n._throwIfClosed(),!n.isStopped){n.hasError=n.isStopped=!0,n.thrownError=r;for(var i=n.observers;i.length;)i.shift().error(r)}})},e.prototype.complete=function(){var r=this;yt(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var n=r.observers;n.length;)n.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var n=this,i=this,o=i.hasError,s=i.isStopped,a=i.observers;return o||s?en:(this.currentObservers=null,a.push(r),new ct(function(){n.currentObservers=null,gt(a,r)}))},e.prototype._checkFinalizedStatuses=function(r){var n=this,i=n.hasError,o=n.thrownError,s=n.isStopped;i?r.error(o):s&&r.complete()},e.prototype.asObservable=function(){var r=new F;return r.source=this,r},e.create=function(r,n){return new Rr(r,n)},e}(F),Rr=function(t){se(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,r)},e.prototype.error=function(r){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,r)},e.prototype.complete=function(){var r,n;(n=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||n===void 0||n.call(r)},e.prototype._subscribe=function(r){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(r))!==null&&i!==void 0?i:en},e}(Ht),Bt={now:function(){return(Bt.delegate||Date).now()},delegate:void 0},mo=function(t){se(e,t);function e(r,n,i){r===void 0&&(r=1/0),n===void 0&&(n=1/0),i===void 0&&(i=Bt);var o=t.call(this)||this;return o._bufferSize=r,o._windowTime=n,o._timestampProvider=i,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,r),o._windowTime=Math.max(1,n),o}return e.prototype.next=function(r){var n=this,i=n.isStopped,o=n._buffer,s=n._infiniteTimeWindow,a=n._timestampProvider,c=n._windowTime;i||(o.push(r),!s&&o.push(a.now()+c)),this._trimBuffer(),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var n=this._innerSubscribe(r),i=this,o=i._infiniteTimeWindow,s=i._buffer,a=s.slice(),c=0;c<a.length&&!r.closed;c+=o?1:2)r.next(a[c]);return this._checkFinalizedStatuses(r),n},e.prototype._trimBuffer=function(){var r=this,n=r._bufferSize,i=r._timestampProvider,o=r._buffer,s=r._infiniteTimeWindow,a=(s?1:2)*n;if(n<1/0&&a<o.length&&o.splice(0,o.length-a),!s){for(var c=i.now(),u=0,d=1;d<o.length&&o[d]<=c;d+=2)u=d;u&&o.splice(0,u+1)}},e}(Ht),go=function(t){se(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(ct),$r={setInterval:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return setInterval.apply(void 0,oe([t,e],ie(r)))},clearInterval:function(t){return clearInterval(t)},delegate:void 0},bo=function(t){se(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){var i;if(n===void 0&&(n=0),this.closed)return this;this.state=r;var o=this.id,s=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(s,o,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),$r.setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&$r.clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,o;try{this.work(r)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,n=r.id,i=r.scheduler,o=i.actions;this.work=this.state=this.scheduler=null,this.pending=!1,gt(o,this),n!=null&&(this.id=this.recycleAsyncId(i,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(go),Pr=function(){function t(e,r){r===void 0&&(r=t.now),this.schedulerActionCtor=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(n,r)},t.now=Bt.now,t}(),wo=function(t){se(e,t);function e(r,n){n===void 0&&(n=Pr.now);var i=t.call(this,r,n)||this;return i.actions=[],i._active=!1,i}return e.prototype.flush=function(r){var n=this.actions;if(this._active){n.push(r);return}var i;this._active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this._active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(Pr),Eo=new wo(bo),Co=Eo,on=new F(function(t){return t.complete()});function So(t){return t&&$(t.schedule)}function Vt(t){return t[t.length-1]}function _o(t){return $(Vt(t))?t.pop():void 0}function Wt(t){return So(Vt(t))?t.pop():void 0}function Oo(t,e){return typeof Vt(t)=="number"?t.pop():e}var sn=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function an(t){return $(t==null?void 0:t.then)}function un(t){return $(t[zt])}function cn(t){return Symbol.asyncIterator&&$(t==null?void 0:t[Symbol.asyncIterator])}function ln(t){return new TypeError("You provided "+(t!==null&&typeof t=="object"?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function xo(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var fn=xo();function hn(t){return $(t==null?void 0:t[fn])}function dn(t){return no(this,arguments,function(){var r,n,i,o;return Zr(this,function(s){switch(s.label){case 0:r=t.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,xe(r.read())];case 3:return n=s.sent(),i=n.value,o=n.done,o?[4,xe(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,xe(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function pn(t){return $(t==null?void 0:t.getReader)}function X(t){if(t instanceof F)return t;if(t!=null){if(un(t))return Io(t);if(sn(t))return Ao(t);if(an(t))return jo(t);if(cn(t))return vn(t);if(hn(t))return To(t);if(pn(t))return Ro(t)}throw ln(t)}function Io(t){return new F(function(e){var r=t[zt]();if($(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ao(t){return new F(function(e){for(var r=0;r<t.length&&!e.closed;r++)e.next(t[r]);e.complete()})}function jo(t){return new F(function(e){t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,rn)})}function To(t){return new F(function(e){var r,n;try{for(var i=Pe(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}e.complete()})}function vn(t){return new F(function(e){$o(t,e).catch(function(r){return e.error(r)})})}function Ro(t){return vn(dn(t))}function $o(t,e){var r,n,i,o;return ro(this,void 0,void 0,function(){var s,a;return Zr(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=io(t),c.label=1;case 1:return[4,r.next()];case 2:if(n=c.sent(),!!n.done)return[3,4];if(s=n.value,e.next(s),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),i={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(o=r.return)?[4,o.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Ce(t,e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=e.schedule(function(){r(),i?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(o),!i)return o}function yn(t,e){return e===void 0&&(e=0),Q(function(r,n){r.subscribe(ye(n,function(i){return Ce(n,t,function(){return n.next(i)},e)},function(){return Ce(n,t,function(){return n.complete()},e)},function(i){return Ce(n,t,function(){return n.error(i)},e)}))})}function mn(t,e){return e===void 0&&(e=0),Q(function(r,n){n.add(t.schedule(function(){return r.subscribe(n)},e))})}function Po(t,e){return X(t).pipe(mn(e),yn(e))}function Fo(t,e){return X(t).pipe(mn(e),yn(e))}function qo(t,e){return new F(function(r){var n=0;return e.schedule(function(){n===t.length?r.complete():(r.next(t[n++]),r.closed||this.schedule())})})}function ko(t,e){return new F(function(r){var n;return Ce(r,e,function(){n=t[fn](),Ce(r,e,function(){var i,o,s;try{i=n.next(),o=i.value,s=i.done}catch(a){r.error(a);return}s?r.complete():r.next(o)},0,!0)}),function(){return $(n==null?void 0:n.return)&&n.return()}})}function gn(t,e){if(!t)throw new Error("Iterable cannot be null");return new F(function(r){Ce(r,e,function(){var n=t[Symbol.asyncIterator]();Ce(r,e,function(){n.next().then(function(i){i.done?r.complete():r.next(i.value)})},0,!0)})})}function Mo(t,e){return gn(dn(t),e)}function Uo(t,e){if(t!=null){if(un(t))return Po(t,e);if(sn(t))return qo(t,e);if(an(t))return Fo(t,e);if(cn(t))return gn(t,e);if(hn(t))return ko(t,e);if(pn(t))return Mo(t,e)}throw ln(t)}function lt(t,e){return e?Uo(t,e):X(t)}function It(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Wt(t);return lt(t,r)}function bn(t,e){var r=$(t)?t:function(){return t},n=function(i){return i.error(r())};return new F(n)}function Lo(t){return!!t&&(t instanceof F||$(t.lift)&&$(t.subscribe))}var Do=Dt(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function L(t,e){return new Promise(function(r,n){var i=!1,o;t.subscribe({next:function(s){o=s,i=!0},error:n,complete:function(){i?r(o):n(new Do)}})})}function No(t){return t instanceof Date&&!isNaN(t)}function H(t,e){return Q(function(r,n){var i=0;r.subscribe(ye(n,function(o){n.next(t.call(e,o,i++))}))})}var zo=Array.isArray;function Ho(t,e){return zo(e)?t.apply(void 0,oe([],ie(e))):t(e)}function Bo(t){return H(function(e){return Ho(t,e)})}function Vo(t,e,r){return r===void 0&&(r=xt),function(n){Fr(e,function(){for(var i=t.length,o=new Array(i),s=i,a=i,c=function(d){Fr(e,function(){var g=lt(t[d],e),w=!1;g.subscribe(ye(n,function(v){o[d]=v,w||(w=!0,a--),a||n.next(r(o.slice()))},function(){--s||n.complete()}))},n)},u=0;u<i;u++)c(u)})}}function Fr(t,e,r){e()}function Wo(t,e,r,n,i,o,s,a){var c=[],u=0,d=0,g=!1,w=function(){g&&!c.length&&!u&&e.complete()},v=function(m){return u<n?b(m):c.push(m)},b=function(m){u++;var E=!1;X(r(m,d++)).subscribe(ye(e,function(_){e.next(_)},function(){E=!0},void 0,function(){if(E)try{u--;for(var _=function(){var S=c.shift();s||b(S)};c.length&&u<n;)_();w()}catch(S){e.error(S)}}))};return t.subscribe(ye(e,v,function(){g=!0,w()})),function(){}}function ft(t,e,r){return r===void 0&&(r=1/0),$(e)?ft(function(n,i){return H(function(o,s){return e(n,o,i,s)})(X(t(n,i)))},r):(typeof e=="number"&&(r=e),Q(function(n,i){return Wo(n,i,t,r)}))}function wn(t){return t===void 0&&(t=1/0),ft(xt,t)}function Go(){return wn(1)}function En(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Go()(lt(t,Wt(t)))}function Cn(t){return new F(function(e){X(t()).subscribe(e)})}function Jo(t,e,r){return r===void 0&&(r=Co),new F(function(n){var i=No(t)?1e3-r.now():t;i<0&&(i=0);var o=0;return r.schedule(function(){n.closed||(n.next(o++),n.complete())},i)})}function Yo(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Wt(t),n=Oo(t,1/0),i=t;return i.length?i.length===1?X(i[0]):wn(n)(lt(i,r)):on}var Qo=Array.isArray;function Xo(t){return t.length===1&&Qo(t[0])?t[0]:t}function Fe(t,e){return Q(function(r,n){var i=0;r.subscribe(ye(n,function(o){return t.call(e,o,i++)&&n.next(o)}))})}function Gt(t){return Q(function(e,r){var n=null,i=!1,o;n=e.subscribe(ye(r,void 0,void 0,function(s){o=X(t(s,Gt(t)(e))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function Sn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=_o(t);return r?lo(Sn.apply(void 0,oe([],ie(t))),Bo(r)):Q(function(n,i){Vo(oe([n],ie(Xo(t))))(i)})}function Ko(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Sn.apply(void 0,oe([],ie(t)))}function _n(t){return Q(function(e,r){try{e.subscribe(r)}finally{r.add(t)}})}function On(t){t===void 0&&(t={});var e=t.connector,r=e===void 0?function(){return new Ht}:e,n=t.resetOnError,i=n===void 0?!0:n,o=t.resetOnComplete,s=o===void 0?!0:o,a=t.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,g,w,v=0,b=!1,m=!1,E=function(){g==null||g.unsubscribe(),g=void 0},_=function(){E(),d=w=void 0,b=m=!1},S=function(){var x=d;_(),x==null||x.unsubscribe()};return Q(function(x,R){v++,!m&&!b&&E();var P=w=w??r();R.add(function(){v--,v===0&&!m&&!b&&(g=$t(S,c))}),P.subscribe(R),!d&&v>0&&(d=new Ye({next:function(M){return P.next(M)},error:function(M){m=!0,E(),g=$t(_,i,M),P.error(M)},complete:function(){b=!0,E(),g=$t(_,s),P.complete()}}),X(x).subscribe(d))})(u)}}function $t(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];if(e===!0){t();return}if(e!==!1){var i=new Ye({next:function(){i.unsubscribe(),t()}});return X(e.apply(void 0,oe([],ie(r)))).subscribe(i)}}function Zo(t,e,r){var n,i=!1;return n=t,On({connector:function(){return new mo(n,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function es(t,e,r){var n=$(t)||e||r?{next:t,error:e,complete:r}:t;return n?Q(function(i,o){var s;(s=n.subscribe)===null||s===void 0||s.call(n);var a=!0;i.subscribe(ye(o,function(c){var u;(u=n.next)===null||u===void 0||u.call(n,c),o.next(c)},function(){var c;a=!1,(c=n.complete)===null||c===void 0||c.call(n),o.complete()},function(c){var u;a=!1,(u=n.error)===null||u===void 0||u.call(n,c),o.error(c)},function(){var c,u;a&&((c=n.unsubscribe)===null||c===void 0||c.call(n)),(u=n.finalize)===null||u===void 0||u.call(n)}))}):xt}var xn={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},Jt={0:8203,1:8204,2:8205,3:65279},ts=new Array(4).fill(String.fromCodePoint(Jt[0])).join("");function rs(t){let e=JSON.stringify(t);return`${ts}${Array.from(e).map(r=>{let n=r.charCodeAt(0);if(n>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${n})`);return Array.from(n.toString(4).padStart(4,"0")).map(i=>String.fromCodePoint(Jt[i])).join("")}).join("")}`}function ns(t){return!Number.isNaN(Number(t))||/[a-z]/i.test(t)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(t)?!1:!!Date.parse(t)}function is(t){try{new URL(t,t.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function za(t,e,r="auto"){return r===!0||r==="auto"&&(ns(t)||is(t))?t:`${t}${rs(e)}`}Object.fromEntries(Object.entries(Jt).map(t=>t.reverse()));Object.fromEntries(Object.entries(xn).map(t=>t.reverse()));var os=`${Object.values(xn).map(t=>`\\u{${t.toString(16)}}`).join("")}`,qr=new RegExp(`[${os}]{4,}`,"gu");function ss(t){var e;return{cleaned:t.replace(qr,""),encoded:((e=t.match(qr))==null?void 0:e[0])||""}}function as(t){return t&&JSON.parse(ss(JSON.stringify(t)).cleaned)}function us(t){return as(t)}class cs extends Error{constructor(r){const n=In(r);super(n.message);O(this,"response");O(this,"statusCode",400);O(this,"responseBody");O(this,"details");Object.assign(this,n)}}class ls extends Error{constructor(r){const n=In(r);super(n.message);O(this,"response");O(this,"statusCode",500);O(this,"responseBody");O(this,"details");Object.assign(this,n)}}function In(t){const e=t.body,r={response:t,statusCode:t.statusCode,responseBody:ps(e,t),message:"",details:void 0};if(e.error&&e.message)return r.message=`${e.error} - ${e.message}`,r;if(fs(e)||hs(e)){const n=e.error.items||[],i=n.slice(0,5).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let o=i.length?`:
- ${i.join(`
- `)}`:"";return n.length>5&&(o+=`
...and ${n.length-5} more`),r.message=`${e.error.description}${o}`,r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||ds(t),r)}function fs(t){return bt(t)&&bt(t.error)&&t.error.type==="mutationError"&&typeof t.error.description=="string"}function hs(t){return bt(t)&&bt(t.error)&&t.error.type==="actionError"&&typeof t.error.description=="string"}function bt(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}function ds(t){const e=t.statusMessage?` ${t.statusMessage}`:"";return`${t.method}-request to ${t.url} resulted in HTTP ${t.statusCode}${e}`}function ps(t,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(t,null,2):t}class vs extends Error{constructor({projectId:r}){super("CorsOriginError");O(this,"projectId");O(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=r;const n=new URL(`https://sanity.io/manage/project/${r}/api`);if(typeof location<"u"){const{origin:i}=location;n.searchParams.set("cors","add"),n.searchParams.set("origin",i),this.addOriginUrl=n,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${n}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${n}`}}const ys={onResponse:t=>{if(t.statusCode>=500)throw new ls(t);if(t.statusCode>=400)throw new cs(t);return t}};function ms(){const t={};return{onResponse:e=>{const r=e.headers["x-sanity-warning"],n=Array.isArray(r)?r:[r];for(const i of n)!i||t[i]||(t[i]=!0,console.warn(i));return e}}}function kr(t){return Vi([Lt({shouldRetry:gs}),...t,ms(),Qi(),Xi(),eo(),ys,Zi({implementation:F})])}function gs(t,e,r){if(r.maxRetries===0)return!1;const n=r.method==="GET"||r.method==="HEAD",i=(r.uri||r.url).startsWith("/data/query"),o=t.response&&(t.response.statusCode===429||t.response.statusCode===502||t.response.statusCode===503);return(n||i)&&o?!0:Lt.shouldRetry(t,e,r)}const bs="https://www.sanity.io/help/";function Yt(t){return bs+t}const Mr=["image","file"],Ur=["before","after","replace"],An=t=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},ws=t=>{if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Es=t=>{if(Mr.indexOf(t)===-1)throw new Error(`Invalid asset type: ${t}. Must be one of ${Mr.join(", ")}`)},Ge=(t,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${t}() takes an object of properties`)},jn=(t,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${t}(): "${e}" is not a valid document ID`)},wt=(t,e)=>{if(!e._id)throw new Error(`${t}() requires that the document contains an ID ("_id" property)`);jn(t,e._id)},Cs=(t,e,r)=>{const n="insert(at, selector, items)";if(Ur.indexOf(t)===-1){const i=Ur.map(o=>`"${o}"`).join(", ");throw new Error(`${n} takes an "at"-argument which is one of: ${i}`)}if(typeof e!="string")throw new Error(`${n} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${n} takes an "items"-argument which must be an array`)},Tn=t=>{if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},Rn=t=>{if(typeof t!="string"||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t};function Ss(t){let e=!1,r;return(...n)=>(e||(r=t(...n),e=!0),r)}const qe=t=>Ss((...e)=>console.warn(t.join(" "),...e)),_s=qe(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Os=qe(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),xs=qe(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Is=qe(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),As=qe(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${Yt("js-client-browser-token")} for more information and how to hide this warning.`]),js=qe(["Using the Sanity client without specifying an API version is deprecated.",`See ${Yt("js-client-api-version")}`]),Ts="apicdn.sanity.io",Je={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Rs=["localhost","127.0.0.1","0.0.0.0"],$s=t=>Rs.indexOf(t)!==-1;function Ps(t){if(t==="1"||t==="X")return;const e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const Fs=/^[a-z0-9_]+$/i;function $n(t){if(Array.isArray(t)&&t.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives');const e=(Array.isArray(t)?t:[t]).filter(r=>typeof r!="string"||!Fs.test(r));if(e.length>0){const r=e.map(n=>JSON.stringify(n));throw new TypeError(`Invalid API perspective value${e.length===1?"":"s"}: ${r.join(", ")}, expected \`published\`, \`drafts\`, \`raw\` or a release identifier string`)}}const Pn=(t,e)=>{const r={...e,...t,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||Je.stega,...typeof t.stega=="boolean"?{enabled:t.stega}:t.stega||{}}};r.apiVersion||js();const n={...Je,...r},i=n.useProjectHostname;if(typeof Promise>"u"){const g=Yt("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${g}`)}if(i&&!n.projectId)throw new Error("Configuration must contain `projectId`");if(typeof n.perspective<"u"&&$n(n.perspective),"encodeSourceMap"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in n)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof n.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${n.stega.enabled}`);if(n.stega.enabled&&n.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(n.stega.enabled&&typeof n.stega.studioUrl!="string"&&typeof n.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${n.stega.studioUrl}`);const o=typeof window<"u"&&window.location&&window.location.hostname,s=o&&$s(window.location.hostname);o&&s&&n.token&&n.ignoreBrowserTokenWarning!==!0?As():typeof n.useCdn>"u"&&Os(),i&&ws(n.projectId),n.dataset&&An(n.dataset),"requestTagPrefix"in n&&(n.requestTagPrefix=n.requestTagPrefix?Rn(n.requestTagPrefix).replace(/\.+$/,""):void 0),n.apiVersion=`${n.apiVersion}`.replace(/^v/,""),n.isDefaultApi=n.apiHost===Je.apiHost,n.useCdn===!0&&n.withCredentials&&_s(),n.useCdn=n.useCdn!==!1&&!n.withCredentials,Ps(n.apiVersion);const a=n.apiHost.split("://",2),c=a[0],u=a[1],d=n.isDefaultApi?Ts:u;return n.useProjectHostname?(n.url=`${c}://${n.projectId}.${u}/v${n.apiVersion}`,n.cdnUrl=`${c}://${n.projectId}.${d}/v${n.apiVersion}`):(n.url=`${n.apiHost}/v${n.apiVersion}`,n.cdnUrl=n.url),n};class Fn extends Error{constructor(){super(...arguments);O(this,"name","ConnectionFailedError")}}class qs extends Error{constructor(r,n,i={}){super(r,i);O(this,"name","DisconnectError");O(this,"reason");this.reason=n}}class ks extends Error{constructor(r,n){super(r);O(this,"name","ChannelError");O(this,"data");this.data=n}}class Ms extends Error{constructor(r,n,i={}){super(r,i);O(this,"name","MessageError");O(this,"data");this.data=n}}class Lr extends Error{constructor(){super(...arguments);O(this,"name","MessageParseError")}}const Us=["channelError","disconnect"];function qn(t,e){return Cn(()=>{const r=t();return Lo(r)?r:It(r)}).pipe(ft(r=>Ls(r,e)))}function Ls(t,e){return new F(r=>{const n=e.includes("open"),i=e.includes("reconnect");function o(u){if("data"in u){const[d,g]=Dr(u);r.error(d?new Lr("Unable to parse EventSource error message",{cause:g}):new Ms((g==null?void 0:g.data).message,g));return}t.readyState===t.CLOSED?r.error(new Fn("EventSource connection failed")):i&&r.next({type:"reconnect"})}function s(){r.next({type:"open"})}function a(u){var w;const[d,g]=Dr(u);if(d){r.error(new Lr("Unable to parse EventSource message",{cause:d}));return}if(u.type==="channelError"){r.error(new ks(Ds(g==null?void 0:g.data),g.data));return}if(u.type==="disconnect"){r.error(new qs(`Server disconnected client: ${((w=g.data)==null?void 0:w.reason)||"unknown error"}`));return}r.next({type:u.type,id:u.lastEventId,...g.data?{data:g.data}:{}})}t.addEventListener("error",o),n&&t.addEventListener("open",s);const c=[...new Set([...Us,...e])].filter(u=>u!=="error"&&u!=="open"&&u!=="reconnect");return c.forEach(u=>t.addEventListener(u,a)),()=>{t.removeEventListener("error",o),n&&t.removeEventListener("open",s),c.forEach(u=>t.removeEventListener(u,a)),t.close()}})}function Dr(t){try{const e=typeof t.data=="string"&&JSON.parse(t.data);return[null,{type:t.type,id:t.lastEventId,...Ns(e)?{}:{data:e}}]}catch(e){return[e,null]}}function Ds(t){return t.error?t.error.description?t.error.description:typeof t.error=="string"?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}function Ns(t){for(const e in t)return!1;return!0}function kn(t){if(typeof t=="string")return{id:t};if(Array.isArray(t))return{query:"*[_id in $ids]",params:{ids:t}};if(typeof t=="object"&&t!==null&&"query"in t&&typeof t.query=="string")return"params"in t&&typeof t.params=="object"&&t.params!==null?{query:t.query,params:t.params}:{query:t.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class Mn{constructor(e,r={}){O(this,"selection");O(this,"operations");this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return Ge("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,n){return Cs(e,r,n),this._assign("insert",{[e]:r,items:n})}append(e,r){return this.insert("after",`${e}[-1]`,r)}prepend(e,r){return this.insert("before",`${e}[0]`,r)}splice(e,r,n,i){const o=typeof n>"u"||n===-1,s=r<0?r-1:r,a=o?-1:Math.max(0,r+n),c=s<0&&a>=0?"":a,u=`${e}[${s}:${c}]`;return this.insert("replace",u,i||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...kn(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r,n=!0){return Ge(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},n&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}var be;const Kt=class Kt extends Mn{constructor(r,n,i){super(r,n);j(this,be);A(this,be,i)}clone(){return new Kt(this.selection,{...this.operations},y(this,be))}commit(r){if(!y(this,be))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",i=Object.assign({returnFirst:n,returnDocuments:!0},r);return y(this,be).mutate({patch:this.serialize()},i)}};be=new WeakMap;let Se=Kt;var we;const Zt=class Zt extends Mn{constructor(r,n,i){super(r,n);j(this,we);A(this,we,i)}clone(){return new Zt(this.selection,{...this.operations},y(this,we))}commit(r){if(!y(this,we))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",i=Object.assign({returnFirst:n,returnDocuments:!0},r);return y(this,we).mutate({patch:this.serialize()},i)}};we=new WeakMap;let ve=Zt;const Un={returnDocuments:!1};class Ln{constructor(e=[],r){O(this,"operations");O(this,"trxId");this.operations=e,this.trxId=r}create(e){return Ge("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return Ge(r,e),wt(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return Ge(r,e),wt(r,e),this._add({[r]:e})}delete(e){return jn("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var ee;const er=class er extends Ln{constructor(r,n,i){super(r,i);j(this,ee);A(this,ee,n)}clone(){return new er([...this.operations],y(this,ee),this.trxId)}commit(r){if(!y(this,ee))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return y(this,ee).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Un,r||{}))}patch(r,n){const i=typeof n=="function",o=typeof r!="string"&&r instanceof ve,s=typeof r=="object"&&("query"in r||"id"in r);if(o)return this._add({patch:r.serialize()});if(i){const a=n(new ve(r,{},y(this,ee)));if(!(a instanceof ve))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(s){const a=new ve(r,n||{},y(this,ee));return this._add({patch:a.serialize()})}return this._add({patch:{id:r,...n}})}};ee=new WeakMap;let Et=er;var le;const tr=class tr extends Ln{constructor(r,n,i){super(r,i);j(this,le);A(this,le,n)}clone(){return new tr([...this.operations],y(this,le),this.trxId)}commit(r){if(!y(this,le))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return y(this,le).mutate(this.serialize(),Object.assign({transactionId:this.trxId},Un,r||{}))}patch(r,n){const i=typeof n=="function";if(typeof r!="string"&&r instanceof Se)return this._add({patch:r.serialize()});if(i){const o=n(new Se(r,{},y(this,le)));if(!(o instanceof Se))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:r,...n}})}};le=new WeakMap;let Ct=tr;const zs="X-Sanity-Project-ID";function Hs(t,e={}){const r={},n=e.token||t.token;n&&(r.Authorization=`Bearer ${n}`),!e.useGlobalApi&&!t.useProjectHostname&&t.projectId&&(r[zs]=t.projectId);const i=!!(typeof e.withCredentials>"u"?t.token||t.withCredentials:e.withCredentials),o=typeof e.timeout>"u"?t.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof o>"u"?5*60*1e3:o,proxy:e.proxy||t.proxy,json:!0,withCredentials:i,fetch:typeof e.fetch=="object"&&typeof t.fetch=="object"?{...t.fetch,...e.fetch}:e.fetch||t.fetch})}const Dn=({query:t,params:e={},options:r={}})=>{const n=new URLSearchParams,{tag:i,includeMutations:o,returnQuery:s,...a}=r;i&&n.append("tag",i),n.append("query",t);for(const[c,u]of Object.entries(e))n.append(`$${c}`,JSON.stringify(u));for(const[c,u]of Object.entries(a))u&&n.append(c,`${u}`);return s===!1&&n.append("returnQuery","false"),o===!1&&n.append("includeMutations","false"),`?${n}`},Bs=(t,e)=>t===!1?void 0:typeof t>"u"?e:t,Vs=(t={})=>({dryRun:t.dryRun,returnIds:!0,returnDocuments:Bs(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}),Qt=t=>t.type==="response",Ws=t=>t.body,Gs=(t,e)=>t.reduce((r,n)=>(r[e(n)]=n,r),Object.create(null)),Js=11264;function Nn(t,e,r,n,i={},o={}){const s="stega"in o?{...r||{},...typeof o.stega=="boolean"?{enabled:o.stega}:o.stega||{}}:r,a=s.enabled?us(i):i,c=o.filterResponse===!1?b=>b:b=>b.result,{cache:u,next:d,...g}={useAbortSignal:typeof o.signal<"u",resultSourceMap:s.enabled?"withKeyArraySelector":o.resultSourceMap,...o,returnQuery:o.filterResponse===!1&&o.returnQuery!==!1},w=typeof u<"u"||typeof d<"u"?{...g,fetch:{cache:u,next:d}}:g,v=ke(t,e,"query",{query:n,params:a},w);return s.enabled?v.pipe(Ko(lt(Br(()=>import("./pcRNu331.js"),[],import.meta.url).then(function(b){return b.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:b})=>b))),H(([b,m])=>{const E=m(b.result,b.resultSourceMap,s);return c({...b,result:E})})):v.pipe(H(c))}function zn(t,e,r,n={}){const i={uri:_e(t,"doc",r),json:!0,tag:n.tag,signal:n.signal};return ht(t,e,i).pipe(Fe(Qt),H(o=>o.body.documents&&o.body.documents[0]))}function Hn(t,e,r,n={}){const i={uri:_e(t,"doc",r.join(",")),json:!0,tag:n.tag,signal:n.signal};return ht(t,e,i).pipe(Fe(Qt),H(o=>{const s=Gs(o.body.documents||[],a=>a._id);return r.map(a=>s[a]||null)}))}function Bn(t,e,r,n){return wt("createIfNotExists",r),At(t,e,r,"createIfNotExists",n)}function Vn(t,e,r,n){return wt("createOrReplace",r),At(t,e,r,"createOrReplace",n)}function Wn(t,e,r,n){return ke(t,e,"mutate",{mutations:[{delete:kn(r)}]},n)}function Gn(t,e,r,n){let i;r instanceof ve||r instanceof Se?i={patch:r.serialize()}:r instanceof Et||r instanceof Ct?i=r.serialize():i=r;const o=Array.isArray(i)?i:[i],s=n&&n.transactionId||void 0;return ke(t,e,"mutate",{mutations:o,transactionId:s},n)}function Jn(t,e,r,n){const i=Array.isArray(r)?r:[r],o=n&&n.transactionId||void 0,s=n&&n.skipCrossDatasetReferenceValidation||void 0,a=n&&n.dryRun||void 0;return ke(t,e,"actions",{actions:i,transactionId:o,skipCrossDatasetReferenceValidation:s,dryRun:a},n)}function ke(t,e,r,n,i={}){const o=r==="mutate",s=r==="actions",a=r==="query",c=o||s?"":Dn(n),u=!o&&!s&&c.length<Js,d=u?c:"",g=i.returnFirst,{timeout:w,token:v,tag:b,headers:m,returnQuery:E,lastLiveEventId:_,cacheMode:S}=i,x=_e(t,r,d),R={method:u?"GET":"POST",uri:x,json:!0,body:u?void 0:n,query:o&&Vs(i),timeout:w,headers:m,token:v,tag:b,returnQuery:E,perspective:i.perspective,resultSourceMap:i.resultSourceMap,lastLiveEventId:Array.isArray(_)?_[0]:_,cacheMode:S,canUseCdn:a,signal:i.signal,fetch:i.fetch,useAbortSignal:i.useAbortSignal,useCdn:i.useCdn};return ht(t,e,R).pipe(Fe(Qt),H(Ws),H(P=>{if(!o)return P;const M=P.results||[];if(i.returnDocuments)return g?M[0]&&M[0].document:M.map(ue=>ue.document);const ae=g?"documentId":"documentIds",J=g?M[0]&&M[0].id:M.map(ue=>ue.id);return{transactionId:P.transactionId,results:M,[ae]:J}}))}function At(t,e,r,n,i={}){const o={[n]:r},s=Object.assign({returnFirst:!0,returnDocuments:!0},i);return ke(t,e,"mutate",{mutations:[o]},s)}function ht(t,e,r){const n=r.url||r.uri,i=t.config(),o=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/")===0:r.canUseCdn;let s=(r.useCdn??i.useCdn)&&o;const a=r.tag&&i.requestTagPrefix?[i.requestTagPrefix,r.tag].join("."):r.tag||i.requestTagPrefix;if(a&&r.tag!==null&&(r.query={tag:Rn(a),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&n.indexOf("/data/query/")===0){const d=r.resultSourceMap??i.resultSourceMap;d!==void 0&&d!==!1&&(r.query={resultSourceMap:d,...r.query});const g=r.perspective||i.perspective;typeof g<"u"&&(g==="previewDrafts"&&Is(),$n(g),r.query={perspective:Array.isArray(g)?g.join(","):g,...r.query},(Array.isArray(g)&&g.length>0||g==="previewDrafts"||g==="drafts")&&s&&(s=!1,xs())),r.lastLiveEventId&&(r.query={...r.query,lastLiveEventId:r.lastLiveEventId}),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query}),s&&r.cacheMode=="noStale"&&(r.query={cacheMode:"noStale",...r.query})}const c=Hs(i,Object.assign({},r,{url:Xt(t,n,s)})),u=new F(d=>e(c,i.requester).subscribe(d));return r.signal?u.pipe(Ys(r.signal)):u}function G(t,e,r){return ht(t,e,r).pipe(Fe(n=>n.type==="response"),H(n=>n.body))}function _e(t,e,r){const n=t.config(),i=Tn(n),o=`/${e}/${i}`;return`/data${r?`${o}/${r}`:o}`.replace(/\/($|\?)/,"$1")}function Xt(t,e,r=!1){const{url:n,cdnUrl:i}=t.config();return`${r?i:n}/${e.replace(/^\//,"")}`}function Ys(t){return e=>new F(r=>{const n=()=>r.error(Xs(t));if(t&&t.aborted){n();return}const i=e.subscribe(r);return t.addEventListener("abort",n),()=>{t.removeEventListener("abort",n),i.unsubscribe()}})}const Qs=!!globalThis.DOMException;function Xs(t){if(Qs)return new DOMException((t==null?void 0:t.reason)??"The operation was aborted.","AbortError");const e=new Error((t==null?void 0:t.reason)??"The operation was aborted.");return e.name="AbortError",e}var tt,rt;class Ks{constructor(e,r){j(this,tt);j(this,rt);A(this,tt,e),A(this,rt,r)}upload(e,r,n){return Yn(y(this,tt),y(this,rt),e,r,n)}}tt=new WeakMap,rt=new WeakMap;var nt,it;class Zs{constructor(e,r){j(this,nt);j(this,it);A(this,nt,e),A(this,it,r)}upload(e,r,n){const i=Yn(y(this,nt),y(this,it),e,r,n);return L(i.pipe(Fe(o=>o.type==="response"),H(o=>o.body.document)))}}nt=new WeakMap,it=new WeakMap;function Yn(t,e,r,n,i={}){Es(r);let o=i.extract||void 0;o&&!o.length&&(o=["none"]);const s=Tn(t.config()),a=r==="image"?"images":"files",c=ea(i,n),{tag:u,label:d,title:g,description:w,creditLine:v,filename:b,source:m}=c,E={label:d,title:g,description:w,filename:b,meta:o,creditLine:v};return m&&(E.sourceId=m.id,E.sourceName=m.name,E.sourceUrl=m.url),ht(t,e,{tag:u,method:"POST",timeout:c.timeout||0,uri:`/assets/${a}/${s}`,headers:c.contentType?{"Content-Type":c.contentType}:{},query:E,body:n})}function ea(t,e){return typeof File>"u"||!(e instanceof File)?t:Object.assign({filename:t.preserveFilename===!1?void 0:e.name,contentType:e.type},t)}var ta=(t,e)=>Object.keys(e).concat(Object.keys(t)).reduce((r,n)=>(r[n]=typeof t[n]>"u"?e[n]:t[n],r),{});const ra=(t,e)=>e.reduce((r,n)=>(typeof t[n]>"u"||(r[n]=t[n]),r),{}),Qn=Cn(()=>Br(()=>import("./BALsSIjp.js").then(t=>t.b),[],import.meta.url)).pipe(H(({default:t})=>t),Zo(1));function Xn(){return function(t){return t.pipe(Gt((e,r)=>e instanceof Fn?En(It({type:"reconnect"}),Jo(1e3).pipe(ft(()=>r))):bn(()=>e)))}}const na=14800,ia=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],oa={includeResult:!0};function Kn(t,e,r={}){const{url:n,token:i,withCredentials:o,requestTagPrefix:s}=this.config(),a=r.tag&&s?[s,r.tag].join("."):r.tag,c={...ta(r,oa),tag:a},u=ra(c,ia),d=Dn({query:t,params:e,options:{tag:a,...u}}),g=`${n}${_e(this,"listen",d)}`;if(g.length>na)return bn(()=>new Error("Query too large for listener"));const w=c.events?c.events:["mutation"],v={};return(i||o)&&(v.withCredentials=!0),i&&(v.headers={Authorization:`Bearer ${i}`}),qn(()=>(typeof EventSource>"u"||v.headers?Qn:It(EventSource)).pipe(H(b=>new b(g,v))),w).pipe(Xn(),Fe(b=>w.includes(b.type)),H(b=>({type:b.type,..."data"in b?b.data:{}})))}function sa(t,e){return aa(typeof t=="function"?{predicate:t,...e}:t)}function aa(t){return e=>{let r,n=!1;const{predicate:i,...o}=t,s=e.pipe(es(c=>{t.predicate(c)&&(n=!0,r=c)}),_n(()=>{n=!1,r=void 0}),On(o)),a=new F(c=>{n&&c.next(r),c.complete()});return Yo(s,a)}}const Nr="2021-03-25";var Ee;class Zn{constructor(e){j(this,Ee);A(this,Ee,e)}events({includeDrafts:e=!1,tag:r}={}){const{projectId:n,apiVersion:i,token:o,withCredentials:s,requestTagPrefix:a}=y(this,Ee).config(),c=i.replace(/^v/,"");if(c!=="X"&&c<Nr)throw new Error(`The live events API requires API version ${Nr} or later. The current API version is ${c}. Please update your API version to use this feature.`);if(e&&!o&&!s)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const u=_e(y(this,Ee),"live/events"),d=new URL(y(this,Ee).getUrl(u,!1)),g=r&&a?[a,r].join("."):r;g&&d.searchParams.set("tag",g),e&&d.searchParams.set("includeDrafts","true");const w={};e&&o&&(w.headers={Authorization:`Bearer ${o}`}),e&&s&&(w.withCredentials=!0);const v=`${d.href}::${JSON.stringify(w)}`,b=Pt.get(v);if(b)return b;const m=qn(()=>(typeof EventSource>"u"||w.headers?Qn:It(EventSource)).pipe(H(S=>new S(d.href,w))),["message","restart","welcome","reconnect"]).pipe(Xn(),H(S=>{if(S.type==="message"){const{data:x,...R}=S;return{...R,tags:x.tags}}return S})),E=ua(d,{method:"OPTIONS",mode:"cors",credentials:w.withCredentials?"include":"omit",headers:w.headers}).pipe(ft(()=>on),Gt(()=>{throw new vs({projectId:n})})),_=En(E,m).pipe(_n(()=>Pt.delete(v)),sa({predicate:S=>S.type==="welcome"}));return Pt.set(v,_),_}}Ee=new WeakMap;function ua(t,e){return new F(r=>{const n=new AbortController,i=n.signal;return fetch(t,{...e,signal:n.signal}).then(o=>{r.next(o),r.complete()},o=>{i.aborted||r.error(o)}),()=>n.abort()})}const Pt=new Map;var fe,he;class ca{constructor(e,r){j(this,fe);j(this,he);A(this,fe,e),A(this,he,r)}create(e,r){return Ie(y(this,fe),y(this,he),"PUT",e,r)}edit(e,r){return Ie(y(this,fe),y(this,he),"PATCH",e,r)}delete(e){return Ie(y(this,fe),y(this,he),"DELETE",e)}list(){return G(y(this,fe),y(this,he),{uri:"/datasets",tag:null})}}fe=new WeakMap,he=new WeakMap;var de,pe;class la{constructor(e,r){j(this,de);j(this,pe);A(this,de,e),A(this,pe,r)}create(e,r){return L(Ie(y(this,de),y(this,pe),"PUT",e,r))}edit(e,r){return L(Ie(y(this,de),y(this,pe),"PATCH",e,r))}delete(e){return L(Ie(y(this,de),y(this,pe),"DELETE",e))}list(){return L(G(y(this,de),y(this,pe),{uri:"/datasets",tag:null}))}}de=new WeakMap,pe=new WeakMap;function Ie(t,e,r,n,i){return An(n),G(t,e,{method:r,uri:`/datasets/${n}`,body:i,tag:null})}var je,Te;class fa{constructor(e,r){j(this,je);j(this,Te);A(this,je,e),A(this,Te,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return G(y(this,je),y(this,Te),{uri:r})}getById(e){return G(y(this,je),y(this,Te),{uri:`/projects/${e}`})}}je=new WeakMap,Te=new WeakMap;var Re,$e;class ha{constructor(e,r){j(this,Re);j(this,$e);A(this,Re,e),A(this,$e,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return L(G(y(this,Re),y(this,$e),{uri:r}))}getById(e){return L(G(y(this,Re),y(this,$e),{uri:`/projects/${e}`}))}}Re=new WeakMap,$e=new WeakMap;var ot,st;class da{constructor(e,r){j(this,ot);j(this,st);A(this,ot,e),A(this,st,r)}getById(e){return G(y(this,ot),y(this,st),{uri:`/users/${e}`})}}ot=new WeakMap,st=new WeakMap;var at,ut;class pa{constructor(e,r){j(this,at);j(this,ut);A(this,at,e),A(this,ut,r)}getById(e){return L(G(y(this,at),y(this,ut),{uri:`/users/${e}`}))}}at=new WeakMap,ut=new WeakMap;var te,U;const St=class St{constructor(e,r=Je){O(this,"assets");O(this,"datasets");O(this,"live");O(this,"projects");O(this,"users");j(this,te);j(this,U);O(this,"listen",Kn);this.config(r),A(this,U,e),this.assets=new Ks(this,y(this,U)),this.datasets=new ca(this,y(this,U)),this.live=new Zn(this),this.projects=new fa(this,y(this,U)),this.users=new da(this,y(this,U))}clone(){return new St(y(this,U),this.config())}config(e){if(e===void 0)return{...y(this,te)};if(y(this,te)&&y(this,te).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return A(this,te,Pn(e,y(this,te)||{})),this}withConfig(e){const r=this.config();return new St(y(this,U),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,n){return Nn(this,y(this,U),y(this,te).stega,e,r,n)}getDocument(e,r){return zn(this,y(this,U),e,r)}getDocuments(e,r){return Hn(this,y(this,U),e,r)}create(e,r){return At(this,y(this,U),e,"create",r)}createIfNotExists(e,r){return Bn(this,y(this,U),e,r)}createOrReplace(e,r){return Vn(this,y(this,U),e,r)}delete(e,r){return Wn(this,y(this,U),e,r)}mutate(e,r){return Gn(this,y(this,U),e,r)}patch(e,r){return new Se(e,r,this)}transaction(e){return new Ct(e,this)}action(e,r){return Jn(this,y(this,U),e,r)}request(e){return G(this,y(this,U),e)}getUrl(e,r){return Xt(this,e,r)}getDataUrl(e,r){return _e(this,e,r)}};te=new WeakMap,U=new WeakMap;let Mt=St;var re,k;const _t=class _t{constructor(e,r=Je){O(this,"assets");O(this,"datasets");O(this,"live");O(this,"projects");O(this,"users");O(this,"observable");j(this,re);j(this,k);O(this,"listen",Kn);this.config(r),A(this,k,e),this.assets=new Zs(this,y(this,k)),this.datasets=new la(this,y(this,k)),this.live=new Zn(this),this.projects=new ha(this,y(this,k)),this.users=new pa(this,y(this,k)),this.observable=new Mt(e,r)}clone(){return new _t(y(this,k),this.config())}config(e){if(e===void 0)return{...y(this,re)};if(y(this,re)&&y(this,re).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),A(this,re,Pn(e,y(this,re)||{})),this}withConfig(e){const r=this.config();return new _t(y(this,k),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,n){return L(Nn(this,y(this,k),y(this,re).stega,e,r,n))}getDocument(e,r){return L(zn(this,y(this,k),e,r))}getDocuments(e,r){return L(Hn(this,y(this,k),e,r))}create(e,r){return L(At(this,y(this,k),e,"create",r))}createIfNotExists(e,r){return L(Bn(this,y(this,k),e,r))}createOrReplace(e,r){return L(Vn(this,y(this,k),e,r))}delete(e,r){return L(Wn(this,y(this,k),e,r))}mutate(e,r){return L(Gn(this,y(this,k),e,r))}patch(e,r){return new ve(e,r,this)}transaction(e){return new Et(e,this)}action(e,r){return L(Jn(this,y(this,k),e,r))}request(e){return L(G(this,y(this,k),e))}dataRequest(e,r,n){return L(ke(this,y(this,k),e,r,n))}getUrl(e,r){return Xt(this,e,r)}getDataUrl(e,r){return _e(this,e,r)}};re=new WeakMap,k=new WeakMap;let Ut=_t;function va(t,e){return{requester:kr(t),createClient:r=>{const n=kr(t);return new e((i,o)=>(o||n)({maxRedirects:0,maxRetries:r.maxRetries,retryDelay:r.retryDelay,...i}),r)}}}var ya=[];const ma=va(ya,Ut),ga=ma.createClient;function ba(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mt={exports:{}},wa=mt.exports,zr;function Ea(){return zr||(zr=1,function(t,e){(function(r,n){t.exports=n()})(wa,function(){function r(){return r=Object.assign||function(p){for(var l=1;l<arguments.length;l++){var h=arguments[l];for(var f in h)Object.prototype.hasOwnProperty.call(h,f)&&(p[f]=h[f])}return p},r.apply(this,arguments)}function n(p,l){if(p){if(typeof p=="string")return i(p,l);var h=Object.prototype.toString.call(p).slice(8,-1);if(h==="Object"&&p.constructor&&(h=p.constructor.name),h==="Map"||h==="Set")return Array.from(p);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return i(p,l)}}function i(p,l){(l==null||l>p.length)&&(l=p.length);for(var h=0,f=new Array(l);h<l;h++)f[h]=p[h];return f}function o(p,l){var h=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(h)return(h=h.call(p)).next.bind(h);if(Array.isArray(p)||(h=n(p))||l){h&&(p=h);var f=0;return function(){return f>=p.length?{done:!0}:{done:!1,value:p[f++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(p){var l=p.split("-"),h=l[1],f=l[2],T=l[3];if(!h||!f||!T)throw new Error("Malformed asset _ref '"+p+`'. Expected an id like "`+s+'".');var C=f.split("x"),I=C[0],q=C[1],D=+I,W=+q,B=isFinite(D)&&isFinite(W);if(!B)throw new Error("Malformed asset _ref '"+p+`'. Expected an id like "`+s+'".');return{id:h,width:D,height:W,format:T}}var c=function(l){var h=l;return h?typeof h._ref=="string":!1},u=function(l){var h=l;return h?typeof h._id=="string":!1},d=function(l){var h=l;return h&&h.asset?typeof h.asset.url=="string":!1};function g(p){if(!p)return null;var l;if(typeof p=="string"&&w(p))l={asset:{_ref:v(p)}};else if(typeof p=="string")l={asset:{_ref:p}};else if(c(p))l={asset:p};else if(u(p))l={asset:{_ref:p._id||""}};else if(d(p))l={asset:{_ref:v(p.asset.url)}};else if(typeof p.asset=="object")l=r({},p);else return null;var h=p;return h.crop&&(l.crop=h.crop),h.hotspot&&(l.hotspot=h.hotspot),b(l)}function w(p){return/^https?:\/\//.test(""+p)}function v(p){var l=p.split("/").slice(-1);return("image-"+l[0]).replace(/\.([a-z]+)$/,"-$1")}function b(p){if(p.crop&&p.hotspot)return p;var l=r({},p);return l.crop||(l.crop={left:0,top:0,bottom:0,right:0}),l.hotspot||(l.hotspot={x:.5,y:.5,height:1,width:1}),l}var m=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"],["frame","frame"]];function E(p){var l=r({},p||{}),h=l.source;delete l.source;var f=g(h);if(!f)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(h)+")");var T=f.asset._ref||f.asset._id||"",C=a(T),I=Math.round(f.crop.left*C.width),q=Math.round(f.crop.top*C.height),D={left:I,top:q,width:Math.round(C.width-f.crop.right*C.width-I),height:Math.round(C.height-f.crop.bottom*C.height-q)},W=f.hotspot.height*C.height/2,B=f.hotspot.width*C.width/2,Oe=f.hotspot.x*C.width,me=f.hotspot.y*C.height,Y={left:Oe-B,top:me-W,right:Oe+B,bottom:me+W};return l.rect||l.focalPoint||l.ignoreImageParams||l.crop||(l=r({},l,S({crop:D,hotspot:Y},l))),_(r({},l,{asset:C}))}function _(p){var l=(p.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),h=p.vanityName?"/"+p.vanityName:"",f=p.asset.id+"-"+p.asset.width+"x"+p.asset.height+"."+p.asset.format+h,T=l+"/images/"+p.projectId+"/"+p.dataset+"/"+f,C=[];if(p.rect){var I=p.rect,q=I.left,D=I.top,W=I.width,B=I.height,Oe=q!==0||D!==0||B!==p.asset.height||W!==p.asset.width;Oe&&C.push("rect="+q+","+D+","+W+","+B)}p.bg&&C.push("bg="+p.bg),p.focalPoint&&(C.push("fp-x="+p.focalPoint.x),C.push("fp-y="+p.focalPoint.y));var me=[p.flipHorizontal&&"h",p.flipVertical&&"v"].filter(Boolean).join("");return me&&C.push("flip="+me),m.forEach(function(Y){var Ue=Y[0],K=Y[1];typeof p[Ue]<"u"?C.push(K+"="+encodeURIComponent(p[Ue])):typeof p[K]<"u"&&C.push(K+"="+encodeURIComponent(p[K]))}),C.length===0?T:T+"?"+C.join("&")}function S(p,l){var h,f=l.width,T=l.height;if(!(f&&T))return{width:f,height:T,rect:p.crop};var C=p.crop,I=p.hotspot,q=f/T,D=C.width/C.height;if(D>q){var W=Math.round(C.height),B=Math.round(W*q),Oe=Math.max(0,Math.round(C.top)),me=Math.round((I.right-I.left)/2+I.left),Y=Math.max(0,Math.round(me-B/2));Y<C.left?Y=C.left:Y+B>C.left+C.width&&(Y=C.left+C.width-B),h={left:Y,top:Oe,width:B,height:W}}else{var Ue=C.width,K=Math.round(Ue/q),ei=Math.max(0,Math.round(C.left)),ti=Math.round((I.bottom-I.top)/2+I.top),Le=Math.max(0,Math.round(ti-K/2));Le<C.top?Le=C.top:Le+K>C.top+C.height&&(Le=C.top+C.height-K),h={left:ei,top:Le,width:Ue,height:K}}return{width:f,height:T,rect:h}}var x=["clip","crop","fill","fillmax","max","scale","min"],R=["top","bottom","left","right","center","focalpoint","entropy"],P=["format"];function M(p){return p&&"config"in p?typeof p.config=="function":!1}function ae(p){return p&&"clientConfig"in p?typeof p.clientConfig=="object":!1}function J(p){for(var l=m,h=o(l),f;!(f=h()).done;){var T=f.value,C=T[0],I=T[1];if(p===C||p===I)return C}return p}function ue(p){if(M(p)){var l=p.config(),h=l.apiHost,f=l.projectId,T=l.dataset,C=h||"https://api.sanity.io";return new Me(null,{baseUrl:C.replace(/^https:\/\/api\./,"https://cdn."),projectId:f,dataset:T})}if(ae(p)){var I=p.clientConfig,q=I.apiHost,D=I.projectId,W=I.dataset,B=q||"https://api.sanity.io";return new Me(null,{baseUrl:B.replace(/^https:\/\/api\./,"https://cdn."),projectId:D,dataset:W})}return new Me(null,p||{})}var Me=function(){function p(h,f){this.options=void 0,this.options=h?r({},h.options||{},f||{}):r({},f||{})}var l=p.prototype;return l.withOptions=function(f){var T=f.baseUrl||this.options.baseUrl,C={baseUrl:T};for(var I in f)if(f.hasOwnProperty(I)){var q=J(I);C[q]=f[I]}return new p(this,r({baseUrl:T},C))},l.image=function(f){return this.withOptions({source:f})},l.dataset=function(f){return this.withOptions({dataset:f})},l.projectId=function(f){return this.withOptions({projectId:f})},l.bg=function(f){return this.withOptions({bg:f})},l.dpr=function(f){return this.withOptions(f&&f!==1?{dpr:f}:{})},l.width=function(f){return this.withOptions({width:f})},l.height=function(f){return this.withOptions({height:f})},l.focalPoint=function(f,T){return this.withOptions({focalPoint:{x:f,y:T}})},l.maxWidth=function(f){return this.withOptions({maxWidth:f})},l.minWidth=function(f){return this.withOptions({minWidth:f})},l.maxHeight=function(f){return this.withOptions({maxHeight:f})},l.minHeight=function(f){return this.withOptions({minHeight:f})},l.size=function(f,T){return this.withOptions({width:f,height:T})},l.blur=function(f){return this.withOptions({blur:f})},l.sharpen=function(f){return this.withOptions({sharpen:f})},l.rect=function(f,T,C,I){return this.withOptions({rect:{left:f,top:T,width:C,height:I}})},l.format=function(f){return this.withOptions({format:f})},l.invert=function(f){return this.withOptions({invert:f})},l.orientation=function(f){return this.withOptions({orientation:f})},l.quality=function(f){return this.withOptions({quality:f})},l.forceDownload=function(f){return this.withOptions({download:f})},l.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},l.flipVertical=function(){return this.withOptions({flipVertical:!0})},l.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},l.fit=function(f){if(x.indexOf(f)===-1)throw new Error('Invalid fit mode "'+f+'"');return this.withOptions({fit:f})},l.crop=function(f){if(R.indexOf(f)===-1)throw new Error('Invalid crop mode "'+f+'"');return this.withOptions({crop:f})},l.saturation=function(f){return this.withOptions({saturation:f})},l.auto=function(f){if(P.indexOf(f)===-1)throw new Error('Invalid auto mode "'+f+'"');return this.withOptions({auto:f})},l.pad=function(f){return this.withOptions({pad:f})},l.vanityName=function(f){return this.withOptions({vanityName:f})},l.frame=function(f){if(f!==1)throw new Error('Invalid frame value "'+f+'"');return this.withOptions({frame:f})},l.url=function(){return E(this.options)},l.toString=function(){return this.url()},p}();return ue})}(mt)),mt.exports}var Ca=Ea();const Sa=ba(Ca),_a=ga({projectId:"owl4m3d9",dataset:"production",apiVersion:"2024-03-22",useCdn:!0}),Oa=Sa(_a);function xa(t){return Oa.image(t)}var Ia=Ot('<li class="service svelte-1n9d6fp"><p class="svelte-1n9d6fp"> </p></li>'),Aa=Ot('<li class="collaborator svelte-1n9d6fp"><p class="svelte-1n9d6fp"> </p></li>'),ja=Ot('<div class="portrait"><img alt="Samuel Weeks" loading="lazy"></div>'),Ta=Ot('<div class="px-4"><div class="text-2xl"><!></div> <div class="about-columns svelte-1n9d6fp"><div class="about-column svelte-1n9d6fp"><h3 class="text-2xl svelte-1n9d6fp">Services</h3> <ul class="services"><!></ul></div> <div class="about-column svelte-1n9d6fp"><h3 class="text-2xl svelte-1n9d6fp">Collaborators</h3> <ul class="collaborators"><!></ul></div> <div class="about-column svelte-1n9d6fp"><h3 class="text-2xl svelte-1n9d6fp">Credits</h3> <div class="credits svelte-1n9d6fp"><!></div></div> <div class="about-column svelte-1n9d6fp"><!></div></div></div>');function Ha(t,e){Si(e,!1);const r=He(),n=He(),i=He(),o=He(),s=He();let a=Ti(e,"data",8);Ne(()=>Be(a()),()=>{var l,h,f;ze(r,((f=(h=(l=a())==null?void 0:l.appSettings)==null?void 0:h.aboutPage)==null?void 0:f.intro)||null)}),Ne(()=>Be(a()),()=>{var l;ze(n,((l=a())==null?void 0:l.primaryTags)||[])}),Ne(()=>Be(a()),()=>{var l,h,f;ze(i,((f=(h=(l=a())==null?void 0:l.appSettings)==null?void 0:h.aboutPage)==null?void 0:f.collaborators)||[])}),Ne(()=>Be(a()),()=>{var l,h,f;ze(o,((f=(h=(l=a())==null?void 0:l.appSettings)==null?void 0:h.aboutPage)==null?void 0:f.credits)||null)}),Ne(()=>Be(a()),()=>{var l,h,f;ze(s,(f=(h=(l=a())==null?void 0:l.appSettings)==null?void 0:h.aboutPage)==null?void 0:f.portrait)}),_i(),oi();var c=Ta(),u=N(c),d=N(u);{var g=l=>{var h=dt(),f=pt(h);pr(f,()=>mr(V(r))),ce(l,h)};Ve(d,l=>{V(r)&&l(g)})}z(u);var w=ge(u,2),v=N(w),b=ge(N(v),2),m=N(b);{var E=l=>{var h=dt(),f=pt(h);hr(f,1,()=>V(n),dr,(T,C)=>{var I=Ia(),q=N(I),D=N(q,!0);z(q),z(I),jt(()=>fr(D,V(C).name)),ce(T,I)}),ce(l,h)};Ve(m,l=>{V(n)&&V(n).length>0&&l(E)})}z(b),z(v);var _=ge(v,2),S=ge(N(_),2),x=N(S);{var R=l=>{var h=dt(),f=pt(h);hr(f,1,()=>V(i),dr,(T,C)=>{var I=Aa(),q=N(I),D=N(q,!0);z(q),z(I),jt(()=>fr(D,V(C))),ce(T,I)}),ce(l,h)};Ve(x,l=>{V(i)&&V(i).length>0&&l(R)})}z(S),z(_);var P=ge(_,2),M=ge(N(P),2),ae=N(M);{var J=l=>{var h=dt(),f=pt(h);pr(f,()=>mr(V(o))),ce(l,h)};Ve(ae,l=>{V(o)&&l(J)})}z(M),z(P);var ue=ge(P,2),Me=N(ue);{var p=l=>{var h=ja(),f=N(h);z(h),jt(T=>ji(f,"src",T),[()=>xa(V(s)).width(400).quality(80).format("webp").url()],xi),ce(l,h)};Ve(Me,l=>{V(s)&&l(p)})}z(ue),z(w),z(c),qi(1,c,()=>Mi,()=>({duration:300,delay:300})),ce(t,c),Oi()}export{za as C,Ha as _,ba as g};
